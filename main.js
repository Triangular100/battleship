(()=>{"use strict";var n={159:(n,e,r)=>{r.d(e,{A:()=>s});var t=r(354),a=r.n(t),o=r(314),i=r.n(o)()(a());i.push([n.id,":root {\n  --background-color: #f3e7e9;\n  --background-gradient-1: -webkit-linear-gradient(\n    to top,\n    #f3e7e9 0%,\n    #e3eeff 99%,\n    #e3eeff 100%\n  ); /* Chrome 10-25, Safari 5.1-6 */\n  --background-gradient-2: linear-gradient(\n    to top,\n    #f3e7e9 0%,\n    #e3eeff 99%,\n    #e3eeff 100%\n  ); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\n  --overlay-background-color: #f4f6ff;\n  --game-button: #87de8e;\n  --game-button-hover: #7bca81;\n\n  --grid-empty: #09275b;\n  --grid-miss: #7299ec;\n  --grid-hit: #cb6040;\n  --grid-sunk: #7b7d7a;\n  --grid-valid: #7dd884;\n  --grid-invalid: #cb6040;\n  --grid-pending-ship: #44675b;\n  --grid-ship: #7b7d7a;\n  --grid-pending-attack: #7dd884;\n}\n\n* {\n  margin: 0;\n  padding: 0;\n  box-sizing: border-box;\n}\n\nbutton {\n  display: block;\n  font-family: inherit;\n  font-size: 100%;\n  border: none;\n  width: 100%;\n  background-color: transparent;\n}\n\nbody {\n  font-family: 'Chau Philomene One', sans-serif;\n  font-weight: 400;\n  min-height: 100vh;\n  width: 100%;\n  background: var(--background-color); /* fallback for old browsers */\n  background: var(--background-gradient-1);\n  background: var(--background-gradient-2);\n}\n\n#page {\n  min-height: 100vh;\n  display: grid;\n  justify-items: center;\n  grid-template-rows: auto 1fr;\n}\n\n#page #title {\n  font-size: 2rem;\n  padding: 1rem;\n}\n\n#page #game-container {\n  height: fit-content;\n  position: relative;\n  display: grid;\n}\n\n#page #game {\n  padding: 1rem;\n  height: fit-content;\n\n  display: flex;\n  flex-direction: column-reverse;\n  justify-content: flex-end;\n  gap: 2rem;\n}\n\n#page #game.blur {\n  backdrop-filter: blur(5px);\n  filter: blur(5px);\n  -webkit-filter: blur(5px);\n}\n\n#page #game-container #game-overlay-container {\n  z-index: 1;\n  top: 0;\n  left: 0;\n  position: absolute;\n  width: 100%;\n  height: 100%;\n\n  display: flex;\n  justify-content: center;\n  align-items: center;\n}\n\n#page #game-container #game-overlay-container.hide {\n  display: none;\n}\n\n#page #game-container #game-overlay-container #game-overlay {\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  gap: 1rem;\n\n  font-size: 1.2rem;\n  width: 90%;\n  height: 75%;\n  background-color: var(--overlay-background-color);\n  border-radius: 8px;\n}\n\n#page #game-container #game-overlay-container #game-overlay #game-instructions {\n  padding: 0 2rem;\n}\n\n#page #game-container #game-overlay-container #game-overlay .game-button {\n  cursor: pointer;\n  border-radius: 8px;\n  width: fit-content;\n  padding: 1rem 2rem;\n  background-color: var(--game-button);\n}\n\n#page #game-container #game-overlay-container #game-overlay .game-button:hover {\n  background-color: var(--game-button-hover);\n}\n\n#page #game-container #game-overlay-container #game-overlay .game-button.hide {\n  display: none;\n}\n\n#page #game .board {\n  aspect-ratio: 1 / 1;\n  height: 39vh;\n  display: grid;\n  grid-template-rows: repeat(10, 1fr);\n  grid-template-columns: repeat(10, 1fr);\n  gap: 1px;\n  border-radius: 8px;\n}\n\n#page #game .board .coord {\n  color: white;\n  border-radius: 3px;\n}\n\n#page #game .board .coord.empty {\n  background-color: var(--grid-empty);\n}\n\n#page #game .board .coord.miss {\n  background-color: var(--grid-miss);\n}\n\n#page #game .board .coord.hit {\n  background-color: var(--grid-hit);\n}\n\n#page #game .board .coord.sunk {\n  background-color: var(--grid-sunk);\n}\n\n#page #game .board .player.coord.sunk {\n  background-color: var(--grid-hit);\n}\n\n#page #game .board .coord.valid {\n  background-color: var(--grid-valid);\n}\n\n#page #game .board .coord.invalid {\n  background-color: var(--grid-invalid);\n}\n\n#page #game .board .coord.pending-ship {\n  background-color: var(--grid-pending-ship);\n}\n\n#page #game .board .coord.ship {\n  background-color: var(--grid-ship);\n}\n\n#page #game .board .coord.pending-attack {\n  background-color: var(--grid-pending-attack);\n}\n\n#page #game .board .coord.animate-hit {\n  z-index: 1;\n  animation: pulse-hit 1s;\n  box-shadow: 0 0 0 10em transparent;\n}\n\n#page #game .board .coord.animate-miss {\n  z-index: 1;\n  animation: pulse-miss 1s;\n  box-shadow: 0 0 0 10em transparent;\n}\n\n@keyframes pulse-hit {\n  0% {\n    box-shadow: 0 0 0 0 var(--grid-hit);\n  }\n}\n\n@keyframes pulse-miss {\n  0% {\n    box-shadow: 0 0 0 0 var(--grid-miss);\n  }\n}\n\nfooter {\n  background-color: var(--grid-empty);\n  width: 100%;\n  text-align: center;\n  padding: 1rem;\n}\n\nfooter img {\n  height: 2rem;\n  width: 2rem;\n}\n\n@media only screen and (min-width: 980px) {\n  #page #game {\n    flex-direction: row;\n    padding: 2rem;\n  }\n\n  #page #game-container #game-overlay-container #game-overlay {\n    width: 75%;\n    height: 75%;\n  }\n\n  #page #game .board {\n    width: 40vw;\n    height: 40vw;\n  }\n}\n","",{version:3,sources:["webpack://./src/styles/styles.css"],names:[],mappings:"AAAA;EACE,2BAA2B;EAC3B;;;;;GAKC,EAAE,+BAA+B;EAClC;;;;;GAKC,EAAE,qEAAqE;EACxE,mCAAmC;EACnC,sBAAsB;EACtB,4BAA4B;;EAE5B,qBAAqB;EACrB,oBAAoB;EACpB,mBAAmB;EACnB,oBAAoB;EACpB,qBAAqB;EACrB,uBAAuB;EACvB,4BAA4B;EAC5B,oBAAoB;EACpB,8BAA8B;AAChC;;AAEA;EACE,SAAS;EACT,UAAU;EACV,sBAAsB;AACxB;;AAEA;EACE,cAAc;EACd,oBAAoB;EACpB,eAAe;EACf,YAAY;EACZ,WAAW;EACX,6BAA6B;AAC/B;;AAEA;EACE,6CAA6C;EAC7C,gBAAgB;EAChB,iBAAiB;EACjB,WAAW;EACX,mCAAmC,EAAE,8BAA8B;EACnE,wCAAwC;EACxC,wCAAwC;AAC1C;;AAEA;EACE,iBAAiB;EACjB,aAAa;EACb,qBAAqB;EACrB,4BAA4B;AAC9B;;AAEA;EACE,eAAe;EACf,aAAa;AACf;;AAEA;EACE,mBAAmB;EACnB,kBAAkB;EAClB,aAAa;AACf;;AAEA;EACE,aAAa;EACb,mBAAmB;;EAEnB,aAAa;EACb,8BAA8B;EAC9B,yBAAyB;EACzB,SAAS;AACX;;AAEA;EACE,0BAA0B;EAC1B,iBAAiB;EACjB,yBAAyB;AAC3B;;AAEA;EACE,UAAU;EACV,MAAM;EACN,OAAO;EACP,kBAAkB;EAClB,WAAW;EACX,YAAY;;EAEZ,aAAa;EACb,uBAAuB;EACvB,mBAAmB;AACrB;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,aAAa;EACb,sBAAsB;EACtB,uBAAuB;EACvB,mBAAmB;EACnB,SAAS;;EAET,iBAAiB;EACjB,UAAU;EACV,WAAW;EACX,iDAAiD;EACjD,kBAAkB;AACpB;;AAEA;EACE,eAAe;AACjB;;AAEA;EACE,eAAe;EACf,kBAAkB;EAClB,kBAAkB;EAClB,kBAAkB;EAClB,oCAAoC;AACtC;;AAEA;EACE,0CAA0C;AAC5C;;AAEA;EACE,aAAa;AACf;;AAEA;EACE,mBAAmB;EACnB,YAAY;EACZ,aAAa;EACb,mCAAmC;EACnC,sCAAsC;EACtC,QAAQ;EACR,kBAAkB;AACpB;;AAEA;EACE,YAAY;EACZ,kBAAkB;AACpB;;AAEA;EACE,mCAAmC;AACrC;;AAEA;EACE,kCAAkC;AACpC;;AAEA;EACE,iCAAiC;AACnC;;AAEA;EACE,kCAAkC;AACpC;;AAEA;EACE,iCAAiC;AACnC;;AAEA;EACE,mCAAmC;AACrC;;AAEA;EACE,qCAAqC;AACvC;;AAEA;EACE,0CAA0C;AAC5C;;AAEA;EACE,kCAAkC;AACpC;;AAEA;EACE,4CAA4C;AAC9C;;AAEA;EACE,UAAU;EACV,uBAAuB;EACvB,kCAAkC;AACpC;;AAEA;EACE,UAAU;EACV,wBAAwB;EACxB,kCAAkC;AACpC;;AAEA;EACE;IACE,mCAAmC;EACrC;AACF;;AAEA;EACE;IACE,oCAAoC;EACtC;AACF;;AAEA;EACE,mCAAmC;EACnC,WAAW;EACX,kBAAkB;EAClB,aAAa;AACf;;AAEA;EACE,YAAY;EACZ,WAAW;AACb;;AAEA;EACE;IACE,mBAAmB;IACnB,aAAa;EACf;;EAEA;IACE,UAAU;IACV,WAAW;EACb;;EAEA;IACE,WAAW;IACX,YAAY;EACd;AACF",sourcesContent:[":root {\r\n  --background-color: #f3e7e9;\r\n  --background-gradient-1: -webkit-linear-gradient(\r\n    to top,\r\n    #f3e7e9 0%,\r\n    #e3eeff 99%,\r\n    #e3eeff 100%\r\n  ); /* Chrome 10-25, Safari 5.1-6 */\r\n  --background-gradient-2: linear-gradient(\r\n    to top,\r\n    #f3e7e9 0%,\r\n    #e3eeff 99%,\r\n    #e3eeff 100%\r\n  ); /* W3C, IE 10+/ Edge, Firefox 16+, Chrome 26+, Opera 12+, Safari 7+ */\r\n  --overlay-background-color: #f4f6ff;\r\n  --game-button: #87de8e;\r\n  --game-button-hover: #7bca81;\r\n\r\n  --grid-empty: #09275b;\r\n  --grid-miss: #7299ec;\r\n  --grid-hit: #cb6040;\r\n  --grid-sunk: #7b7d7a;\r\n  --grid-valid: #7dd884;\r\n  --grid-invalid: #cb6040;\r\n  --grid-pending-ship: #44675b;\r\n  --grid-ship: #7b7d7a;\r\n  --grid-pending-attack: #7dd884;\r\n}\r\n\r\n* {\r\n  margin: 0;\r\n  padding: 0;\r\n  box-sizing: border-box;\r\n}\r\n\r\nbutton {\r\n  display: block;\r\n  font-family: inherit;\r\n  font-size: 100%;\r\n  border: none;\r\n  width: 100%;\r\n  background-color: transparent;\r\n}\r\n\r\nbody {\r\n  font-family: 'Chau Philomene One', sans-serif;\r\n  font-weight: 400;\r\n  min-height: 100vh;\r\n  width: 100%;\r\n  background: var(--background-color); /* fallback for old browsers */\r\n  background: var(--background-gradient-1);\r\n  background: var(--background-gradient-2);\r\n}\r\n\r\n#page {\r\n  min-height: 100vh;\r\n  display: grid;\r\n  justify-items: center;\r\n  grid-template-rows: auto 1fr;\r\n}\r\n\r\n#page #title {\r\n  font-size: 2rem;\r\n  padding: 1rem;\r\n}\r\n\r\n#page #game-container {\r\n  height: fit-content;\r\n  position: relative;\r\n  display: grid;\r\n}\r\n\r\n#page #game {\r\n  padding: 1rem;\r\n  height: fit-content;\r\n\r\n  display: flex;\r\n  flex-direction: column-reverse;\r\n  justify-content: flex-end;\r\n  gap: 2rem;\r\n}\r\n\r\n#page #game.blur {\r\n  backdrop-filter: blur(5px);\r\n  filter: blur(5px);\r\n  -webkit-filter: blur(5px);\r\n}\r\n\r\n#page #game-container #game-overlay-container {\r\n  z-index: 1;\r\n  top: 0;\r\n  left: 0;\r\n  position: absolute;\r\n  width: 100%;\r\n  height: 100%;\r\n\r\n  display: flex;\r\n  justify-content: center;\r\n  align-items: center;\r\n}\r\n\r\n#page #game-container #game-overlay-container.hide {\r\n  display: none;\r\n}\r\n\r\n#page #game-container #game-overlay-container #game-overlay {\r\n  display: flex;\r\n  flex-direction: column;\r\n  justify-content: center;\r\n  align-items: center;\r\n  gap: 1rem;\r\n\r\n  font-size: 1.2rem;\r\n  width: 90%;\r\n  height: 75%;\r\n  background-color: var(--overlay-background-color);\r\n  border-radius: 8px;\r\n}\r\n\r\n#page #game-container #game-overlay-container #game-overlay #game-instructions {\r\n  padding: 0 2rem;\r\n}\r\n\r\n#page #game-container #game-overlay-container #game-overlay .game-button {\r\n  cursor: pointer;\r\n  border-radius: 8px;\r\n  width: fit-content;\r\n  padding: 1rem 2rem;\r\n  background-color: var(--game-button);\r\n}\r\n\r\n#page #game-container #game-overlay-container #game-overlay .game-button:hover {\r\n  background-color: var(--game-button-hover);\r\n}\r\n\r\n#page #game-container #game-overlay-container #game-overlay .game-button.hide {\r\n  display: none;\r\n}\r\n\r\n#page #game .board {\r\n  aspect-ratio: 1 / 1;\r\n  height: 39vh;\r\n  display: grid;\r\n  grid-template-rows: repeat(10, 1fr);\r\n  grid-template-columns: repeat(10, 1fr);\r\n  gap: 1px;\r\n  border-radius: 8px;\r\n}\r\n\r\n#page #game .board .coord {\r\n  color: white;\r\n  border-radius: 3px;\r\n}\r\n\r\n#page #game .board .coord.empty {\r\n  background-color: var(--grid-empty);\r\n}\r\n\r\n#page #game .board .coord.miss {\r\n  background-color: var(--grid-miss);\r\n}\r\n\r\n#page #game .board .coord.hit {\r\n  background-color: var(--grid-hit);\r\n}\r\n\r\n#page #game .board .coord.sunk {\r\n  background-color: var(--grid-sunk);\r\n}\r\n\r\n#page #game .board .player.coord.sunk {\r\n  background-color: var(--grid-hit);\r\n}\r\n\r\n#page #game .board .coord.valid {\r\n  background-color: var(--grid-valid);\r\n}\r\n\r\n#page #game .board .coord.invalid {\r\n  background-color: var(--grid-invalid);\r\n}\r\n\r\n#page #game .board .coord.pending-ship {\r\n  background-color: var(--grid-pending-ship);\r\n}\r\n\r\n#page #game .board .coord.ship {\r\n  background-color: var(--grid-ship);\r\n}\r\n\r\n#page #game .board .coord.pending-attack {\r\n  background-color: var(--grid-pending-attack);\r\n}\r\n\r\n#page #game .board .coord.animate-hit {\r\n  z-index: 1;\r\n  animation: pulse-hit 1s;\r\n  box-shadow: 0 0 0 10em transparent;\r\n}\r\n\r\n#page #game .board .coord.animate-miss {\r\n  z-index: 1;\r\n  animation: pulse-miss 1s;\r\n  box-shadow: 0 0 0 10em transparent;\r\n}\r\n\r\n@keyframes pulse-hit {\r\n  0% {\r\n    box-shadow: 0 0 0 0 var(--grid-hit);\r\n  }\r\n}\r\n\r\n@keyframes pulse-miss {\r\n  0% {\r\n    box-shadow: 0 0 0 0 var(--grid-miss);\r\n  }\r\n}\r\n\r\nfooter {\r\n  background-color: var(--grid-empty);\r\n  width: 100%;\r\n  text-align: center;\r\n  padding: 1rem;\r\n}\r\n\r\nfooter img {\r\n  height: 2rem;\r\n  width: 2rem;\r\n}\r\n\r\n@media only screen and (min-width: 980px) {\r\n  #page #game {\r\n    flex-direction: row;\r\n    padding: 2rem;\r\n  }\r\n\r\n  #page #game-container #game-overlay-container #game-overlay {\r\n    width: 75%;\r\n    height: 75%;\r\n  }\r\n\r\n  #page #game .board {\r\n    width: 40vw;\r\n    height: 40vw;\r\n  }\r\n}\r\n"],sourceRoot:""}]);const s=i},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var r="",t=void 0!==e[5];return e[4]&&(r+="@supports (".concat(e[4],") {")),e[2]&&(r+="@media ".concat(e[2]," {")),t&&(r+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),r+=n(e),t&&(r+="}"),e[2]&&(r+="}"),e[4]&&(r+="}"),r})).join("")},e.i=function(n,r,t,a,o){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(t)for(var s=0;s<this.length;s++){var c=this[s][0];null!=c&&(i[c]=!0)}for(var d=0;d<n.length;d++){var A=[].concat(n[d]);t&&i[A[0]]||(void 0!==o&&(void 0===A[5]||(A[1]="@layer".concat(A[5].length>0?" ".concat(A[5]):""," {").concat(A[1],"}")),A[5]=o),r&&(A[2]?(A[1]="@media ".concat(A[2]," {").concat(A[1],"}"),A[2]=r):A[2]=r),a&&(A[4]?(A[1]="@supports (".concat(A[4],") {").concat(A[1],"}"),A[4]=a):A[4]="".concat(a)),e.push(A))}},e}},354:n=>{n.exports=function(n){var e=n[1],r=n[3];if(!r)return e;if("function"==typeof btoa){var t=btoa(unescape(encodeURIComponent(JSON.stringify(r)))),a="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(t),o="/*# ".concat(a," */");return[e].concat([o]).join("\n")}return[e].join("\n")}},72:n=>{var e=[];function r(n){for(var r=-1,t=0;t<e.length;t++)if(e[t].identifier===n){r=t;break}return r}function t(n,t){for(var o={},i=[],s=0;s<n.length;s++){var c=n[s],d=t.base?c[0]+t.base:c[0],A=o[d]||0,l="".concat(d," ").concat(A);o[d]=A+1;var p=r(l),g={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(g);else{var u=a(g,t);t.byIndex=s,e.splice(s,0,{identifier:l,updater:u,references:1})}i.push(l)}return i}function a(n,e){var r=e.domAPI(e);return r.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;r.update(n=e)}else r.remove()}}n.exports=function(n,a){var o=t(n=n||[],a=a||{});return function(n){n=n||[];for(var i=0;i<o.length;i++){var s=r(o[i]);e[s].references--}for(var c=t(n,a),d=0;d<o.length;d++){var A=r(o[d]);0===e[A].references&&(e[A].updater(),e.splice(A,1))}o=c}}},659:n=>{var e={};n.exports=function(n,r){var t=function(n){if(void 0===e[n]){var r=document.querySelector(n);if(window.HTMLIFrameElement&&r instanceof window.HTMLIFrameElement)try{r=r.contentDocument.head}catch(n){r=null}e[n]=r}return e[n]}(n);if(!t)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");t.appendChild(r)}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},56:(n,e,r)=>{n.exports=function(n){var e=r.nc;e&&n.setAttribute("nonce",e)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(r){!function(n,e,r){var t="";r.supports&&(t+="@supports (".concat(r.supports,") {")),r.media&&(t+="@media ".concat(r.media," {"));var a=void 0!==r.layer;a&&(t+="@layer".concat(r.layer.length>0?" ".concat(r.layer):""," {")),t+=r.css,a&&(t+="}"),r.media&&(t+="}"),r.supports&&(t+="}");var o=r.sourceMap;o&&"undefined"!=typeof btoa&&(t+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(o))))," */")),e.styleTagTransform(t,n,e.options)}(e,n,r)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function r(t){var a=e[t];if(void 0!==a)return a.exports;var o=e[t]={id:t,exports:{}};return n[t](o,o.exports,r),o.exports}r.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return r.d(e,{a:e}),e},r.d=(n,e)=>{for(var t in e)r.o(e,t)&&!r.o(n,t)&&Object.defineProperty(n,t,{enumerable:!0,get:e[t]})},r.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),r.nc=void 0;var t=r(72),a=r.n(t),o=r(825),i=r.n(o),s=r(659),c=r.n(s),d=r(56),A=r.n(d),l=r(540),p=r.n(l),g=r(113),u=r.n(g),h=r(159),m={};m.styleTagTransform=u(),m.setAttributes=A(),m.insert=c().bind(null,"head"),m.domAPI=i(),m.insertStyleElement=p(),a()(h.A,m),h.A&&h.A.locals&&h.A.locals;class C{constructor(n){this.length=n,this.hits=0,this.placed=!1}hit(){this.hits+=1}place(n,e,r){this.col=e,this.row=n,this.dir=r,this.placed=!0}getInfo(){return{row:this.row,col:this.col,dir:this.dir,length:this.length}}preparePlacement(n,e,r){this.attemptedPlacement=!1,this.row=n,this.col=e,this.dir=r}isPlaced(){return this.placed}isOnBody(n,e){const{x:r,y:t}=this.calculateOffset();for(let a=1;a<this.length;a+=1)if(this.row+t*a===n&&this.col+r*a===e)return!0;return!1}isOnHead(n,e){return this.row===n&&this.col===e}toggleDirection(){"horizontal"===this.dir?this.dir="vertical":this.dir="horizontal"}updatePosition(n,e){this.row=n,this.col=e}calculateOffset(){return"horizontal"===this.dir?{x:1,y:0}:{x:0,y:1}}isSunk(){return this.hits>=this.length}}class f{constructor(){this.side=10,this.EMPTY_VAL=0,this.MISS_VAL=1,this.HIT_VAL=2,this.SUNK_VAL=3,this.VALID_VAL=4,this.INVALID_VAL=5,this.PENDING_SHIP_VAL=6,this.PENDING_ATTACK_VAL=7,this.ships=this.createShips(),this.board=this.createBoard()}createBoard(){return Array.from({length:this.side},(()=>Array(this.side).fill(this.EMPTY_VAL)))}createShips(){return{carrier:new C(5),battleship:new C(4),cruiser:new C(3),submarine:new C(3),destroyer:new C(2)}}getShipNames(){return Object.keys(this.ships)}getBoard(){return this.copyBoard()}getPlacementBoard(){return this.placementBoard}getAttackerViewBoard(){return this.hideShips()}hideShips(){return this.board.map((n=>n.map((n=>this.isCoordShip(n)?this.EMPTY_VAL:n))))}copyBoard(){const n=[];for(let e=0;e<this.board.length;e+=1)n.push([...this.board[e]]);return n}preparePlacement(n,e,r,t){const a=this.ships[n];a.preparePlacement(e,r,t),this.placeLineValidate(e,r,t,a.length)}attemptPlacing(n,e,r){const t=this.ships[n];if(t.isOnBody(e,r)){t.attemptedPlacement=!1,t.toggleDirection(),t.updatePosition(e,r);const{dir:n,length:a}=t.getInfo();this.placeLineValidate(e,r,n,a)}else if(t.attemptedPlacement&&t.isOnHead(e,r)){const{dir:a}=t.getInfo();this.place(n,e,r,a)}else if(t.isOnHead(e,r)){const{dir:n,length:a}=t.getInfo();this.placeLineValidate(e,r,n,a,this.PENDING_SHIP_VAL)&&(t.attemptedPlacement=!0,this.placementBoard[e][r]=this.PENDING_SHIP_VAL)}else{t.updatePosition(e,r),t.attemptedPlacement=!1;const{dir:n,length:a}=t.getInfo();this.placeLineValidate(e,r,n,a)}}place(n,e,r,t){const a=this.ships[n];a.place(e,r,t),this.placeLine(n,e,r,t,a.length)}placeLine(n,e,r,t,a){const{x:o,y:i}=this.calculateOffset(t);for(let t=0;t<a;t+=1)this.board[e+i*t][r+o*t]=n}placeLineValidate(n,e,r,t,a=this.VALID_VAL){this.placementBoard=this.copyBoard();const{x:o,y:i}=this.calculateOffset(r);let s=!0,c=a;for(let r=0;r<t;r+=1){if(!this.inBounds(n+i*r,e+o*r)){c=this.INVALID_VAL,s=!1;break}if(this.placementBoard[n+i*r][e+o*r]!==this.EMPTY_VAL){c=this.INVALID_VAL,s=!1;break}}for(let r=0;r<t;r+=1)this.inBounds(n+i*r,e+o*r)&&(this.placementBoard[n+i*r][e+o*r]=c);return s}inBounds(n,e){return n>=0&&n<this.side&&e>=0&&e<this.side}calculateOffset(n){return"horizontal"===n?{x:1,y:0}:{x:0,y:1}}attacked(n,e){const r=this.board[n][e];return r===this.HIT_VAL||r===this.MISS_VAL||r===this.SUNK_VAL}pendingAttack(n,e){return this.board[n][e]===this.PENDING_ATTACK_VAL}pendAttack(n,e){let r=!1;for(let n=0;n<this.board.length&&!r;n+=1)for(let e=0;e<this.board[n].length;e+=1)if(this.board[n][e]===this.PENDING_ATTACK_VAL){this.board[n][e]=this.pendPreviousValue,r=!0;break}this.pendPreviousValue=this.board[n][e],this.board[n][e]=this.PENDING_ATTACK_VAL}unpendAttack(n,e){this.board[n][e]=this.pendPreviousValue}attemptAttack(n,e){return this.attacked(n,e)?{attacked:!1,type:""}:this.pendingAttack(n,e)?(this.unpendAttack(n,e),{attacked:!0,type:this.receiveAttack(n,e)}):(this.pendAttack(n,e),{attacked:!1,type:""})}receiveAttack(n,e){return this.isEmpty(n,e)?this.missShip(n,e):this.isShip(n,e)?this.hitShip(n,e):"miss"}isEmpty(n,e){return this.board[n][e]===this.EMPTY_VAL}missShip(n,e){return this.board[n][e]=this.MISS_VAL,"miss"}isShip(n,e){const r=this.board[n][e];return this.isCoordShip(r)}isShipPlaced(n){return this.ships[n].isPlaced()}isCoordShip(n){return this.getShipNames().includes(n)}hitShip(n,e){const r=this.board[n][e],t=this.ships[r];return t.hit(),t.isSunk()?(this.sink(t),"sink"):(this.board[n][e]=this.HIT_VAL,"hit")}sink(n){const{row:e,col:r,dir:t,length:a}=n.getInfo();this.placeLine(this.SUNK_VAL,e,r,t,a)}areAllShipsSunk(){return Object.values(this.ships).every((n=>n.isSunk()))}}class E{constructor(){this.new()}new(){this.player1Turn=!0,this.player1Board=new f,this.player2Board=new f}over(){return this.opponentPlayerBoard().areAllShipsSunk()}nextTurn(){this.player1Turn=!this.player1Turn}currentPlayerBoard(){return this.player1Turn?this.player1Board:this.player2Board}opponentPlayerBoard(){return this.player1Turn?this.player2Board:this.player1Board}getShipNames(){return this.currentPlayerBoard().getShipNames()}getPlayerBoard(){return this.currentPlayerBoard().getBoard()}getPlayerPlacementBoard(){return this.currentPlayerBoard().getPlacementBoard()}getOpponentBoard(){return this.opponentPlayerBoard().getAttackerViewBoard()}prepareAttack(){this.attacked=!1}hasAttacked(){return this.attacked}attemptAttack(n,e){const{attacked:r,type:t}=this.opponentPlayerBoard().attemptAttack(n,e);return this.attacked=r,r&&(this.prevRow=n,this.prevCol=e,this.prevType=t),t}preparePlacement(n){this.currentPlayerBoard().preparePlacement(n,3,3,"horizontal")}attemptPlacing(n,e,r){this.currentPlayerBoard().attemptPlacing(n,e,r)}place(n,e,r,t){return this.currentPlayerBoard().place(n,e,r,t)}isShipPlaced(n){return this.currentPlayerBoard().isShipPlaced(n)}}function y(n,e){return{row:n%e,col:Math.floor(n/e)}}function b(n,e,r){return e*r+n}function B(n){return 0===n?"empty":1===n?"miss":2===n?"hit":3===n?"sunk":4===n?"valid":5===n?"invalid":6===n?"pending-ship":7===n?"pending-attack":"ship"}function v(n){const e=document.querySelectorAll(".player.coord");for(let r=0;r<e.length;r+=1){const{row:t,col:a}=y(r,n.length);e[r].classList="player coord";const o=B(n[t][a]);o&&e[r].classList.add(o)}}function k(n){const e=document.querySelectorAll(".opponent.coord");for(let r=0;r<e.length;r+=1){const{row:t,col:a}=y(r,n.length);e[r].classList="opponent coord";const o=B(n[t][a]);o&&e[r].classList.add(o)}}const w={showInstructions:function(){document.getElementById("game").classList.add("blur"),document.getElementById("game-overlay-container").classList.remove("hide")},hideInstructions:function(){document.getElementById("game").classList.remove("blur"),document.getElementById("game-overlay-container").classList.add("hide")},instructions:async function(n,e,r,t,a){var o;o=n,document.getElementById("game-instructions").innerHTML=o,await async function(n,e,r,t){var a;a=r,function(n){const e=document.getElementById("game-button-1");n?(e.classList.remove("hide"),e.innerHTML=n):e.classList.add("hide")}(n),function(n){const e=document.getElementById("game-button-2");n?(e.classList.remove("hide"),e.innerHTML=n):e.classList.add("hide")}(a),await function(n,e){const{button1:r,button2:t}={button1:document.getElementById("game-button-1"),button2:document.getElementById("game-button-2")};return new Promise((a=>{const o=()=>{n(),r.removeEventListener("click",o),t.removeEventListener("click",i),a()},i=()=>{e(),r.removeEventListener("click",o),t.removeEventListener("click",i),a()};r.addEventListener("click",o),t.addEventListener("click",i)}))}(e,t)}(e,r,t,a)},resetBoards:function(){const n=Array.from({length:10},(()=>Array(10).fill(0)));v(n),k(n)},playerBoard:v,opponentBoard:k,userClickedPlayerCoord:function(){return new Promise((n=>{const e=document.getElementById("player-board"),r=t=>{if(!t.target.classList.contains("coord"))return;const a=Array.from(e.children).indexOf(t.target);n(y(a,10)),e.removeEventListener("click",r)};e.addEventListener("click",r)}))},userClickedOpponentCoord:function(){return new Promise((n=>{const e=document.getElementById("opponent-board"),r=t=>{if(!t.target.classList.contains("coord"))return;const a=Array.from(e.children).indexOf(t.target);n(y(a,10)),e.removeEventListener("click",r)};e.addEventListener("click",r)}))},animateCoord:function(n,e,r,t,a){if(void 0===n||void 0===e)return;let o;a?(o=document.querySelectorAll(".player.coord"),v(r)):(o=document.querySelectorAll(".opponent.coord"),k(r));const i=b(n,e,10),s=t?"animate-hit":"animate-miss";o[i].classList.add(s),setTimeout((()=>{o[i].classList.remove(s)}),1e3)},animateCoordWait:function(n,e,r,t,a){return new Promise((o=>{if(void 0===n||void 0===e)return void o();let i;a?(i=document.querySelectorAll(".player.coord"),v(r)):(i=document.querySelectorAll(".opponent.coord"),k(r));const s=b(n,e,10),c=t?"animate-hit":"animate-miss";i[s].classList.add(c),setTimeout((()=>{i[s].classList.remove(c),o()}),1e3)}))},showBoards:function(n,e,r,t,a){const o=document.getElementById("player-board"),i=document.getElementById("opponent-board");let s=a;const c=()=>{s?(v(n),k(e)):(v(r),k(t)),s=!s};c(),o.addEventListener("click",c),i.addEventListener("click",c)}};let P,x,L,S;function I(){}async function T(n){for(P.preparePlacement(n);!P.isShipPlaced(n);){x.playerBoard(P.getPlayerPlacementBoard());const{row:e,col:r}=await x.userClickedPlayerCoord();P.attemptPlacing(n,e,r)}}async function V(){const n=P.getShipNames();for(let e=0;e<n.length;e+=1)await T(n[e])}async function O(){let n,e,r;x.playerBoard(P.getPlayerBoard()),P.prepareAttack();let t=!1;for(n=P.prevRow,e=P.prevCol,r=P.prevType,"hit"!==r&&"sink"!==r||(t=!0),x.animateCoord(n,e,P.getPlayerBoard(),t,!0);!P.hasAttacked();)x.opponentBoard(P.getOpponentBoard()),({row:n,col:e}=await x.userClickedOpponentCoord()),r=P.attemptAttack(n,e);return t=!1,"hit"!==r&&"sink"!==r||(t=!0),await x.animateCoordWait(n,e,P.getOpponentBoard(),t,!1),r}function _(){const{p1Board:n,p1OpponentBoard:e,p2Board:r,p2OpponentBoard:t}=function(){const n=P.getPlayerBoard(),e=P.getOpponentBoard();P.nextTurn();const r=P.getPlayerBoard(),t=P.getOpponentBoard();return P.nextTurn(),{p1Board:n,p1OpponentBoard:e,p2Board:r,p2OpponentBoard:t}}();x.showBoards(n,e,r,t,P.player1Turn)}let N="mode";async function M(){N&&(w.showInstructions(),await w.instructions(S[N].instruction,S[N].option1,S[N].option1event,S[N].option2,S[N].option2event))}function j(n,e){return async()=>{w.hideInstructions(),await n(),await async function(){w.resetBoards();const n=L.player1Turn?"Pass to player 2":"Pass to player 1";w.showInstructions(),await w.instructions(n,"Continue",(()=>{}))}(),L.nextTurn(),N=e,await M()}}function z(n,e){return async()=>{w.hideInstructions(),await n(),N=e,await M()}}function W(n,e){return async()=>{w.hideInstructions();const r=await n();await async function(n){w.resetBoards();let e=L.player1Turn?"Pass to player 2":"Pass to player 1";"hit"===n?e=`Ship hit! ${e}`:"miss"===n?e=`Miss! ${e}`:"sink"===n&&(e=`Ship sunk! ${e}`),w.showInstructions(),await w.instructions(e,"Continue",(()=>{}))}(r),"sink"===r&&L.over()?(N=L.player1Turn?"win1":"win2",M()):(L.nextTurn(),N=e,await M())}}L=new E,S=function(n,e,r,t,a){return P=n,x=e,{mode:{instruction:"Mode",option1:"Player vs Player",option1event:r(I,"placeShips1")},placeShips1:{instruction:"Player 1 place your ships. Tap your ship to rotate. Tap coordinate twice to confirm placement.",option1:"Continue",option1event:t(V,"placeShips2")},placeShips2:{instruction:"Player 2 place your ships. Tap your ship to rotate. Tap coordinate twice to confirm placement.",option1:"Continue",option1event:t(V,"attack1")},attack1:{instruction:"Player 1 attack. Tap coordinate twice to confirm placement.",option1:"Continue",option1event:a(O,"attack2")},attack2:{instruction:"Player 2 attack. Tap coordinate twice to confirm placement.",option1:"Continue",option1event:a(O,"attack1")},win1:{instruction:"Player 1 wins. Tap board to swap to opponent.",option1:"Continue",option1event:r(_)},win2:{instruction:"Player 2 wins. Tap board to swap to opponent.",option1:"Continue",option1event:r(_)}}}(L,w,z,j,W),M()})();
//# sourceMappingURL=main.js.map